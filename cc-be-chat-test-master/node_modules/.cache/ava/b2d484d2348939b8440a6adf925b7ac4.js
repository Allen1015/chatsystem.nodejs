"use strict";

var _ava = _interopRequireDefault(require("ava"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fs = require('fs');

var words = new Set(); // 加载过滤字

function loadTXT() {
  var data = fs.readFileSync("D:\\code\\cc-be-chat-test-master\\list.txt");
  var list = data.toString().split("\n");

  for (var i = 0; i < list.length; ++i) {
    words.add(list[i]);
  }
}

function checkWords(message) {
  if (message == "") return message;
  var word = message;
  words.forEach(function (v, k) {
    word = word.replace(v, function (s) {
      var str = "";

      for (var j = 0; j < s.length; j++) {
        str += "*";
      }

      return str;
    });
  });
  return word;
}

loadTXT();
(0, _ava.default)("checkWords test", t => {
  var word = checkWords("nobhead");
  t.is(word, '******');
});
//# sourceMappingURL=D:\code\cc-be-chat-test-master\node_modules\.cache\ava\b2d484d2348939b8440a6adf925b7ac4.js.map